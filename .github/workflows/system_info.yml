name: System info

on:
  workflow_dispatch:

jobs:
  bash-example:
    runs-on: ubuntu-latest
    steps:
      - name: Dump runner context
        env:
          RUNNER_CONTEXT: ${{ toJson(runner) }}
        run: echo "$RUNNER_CONTEXT"
      - name: Hardware context
        shell: python
        run: |
          import platform
          uname = platform.uname()
          print(f"System: {uname.system}")
          print(f"Node Name: {uname.node}")
          print(f"Release: {uname.release}")
          print(f"Version: {uname.version}")
          print(f"Machine: {uname.machine}")
          print(f"Processor: {uname.processor}")
          import psutil
          print(f"Number of physical cores: {psutil.cpu_count(logical=False)}")
          print(f"Current CPU frequency: {psutil.cpu_freq().current}")
          print(f"Total RAM installed: {round(psutil.virtual_memory().total/1000000000, 2)} GB")
